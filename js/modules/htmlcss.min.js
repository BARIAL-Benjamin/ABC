export default class e{static async generate(e,t,n={title:document.title,styles:[],type:"text/html"}){try{let a=new DOMParser().parseFromString(await fetch(t).then(e=>e.text()),"text/html");n.styles&&0!==n.styles.length&&await Promise.all(n.styles.map(async e=>{let t=document.createElement("style");t.innerHTML=await fetch(e).then(e=>e.text()),a.head.append(t)})),a.title=n.title??document.title;let l=`
                <!DOCTYPE html>
                <html lang="fr">
                <head>
                    ${a.head.outerHTML}
                </head>
                <body>
                    ${e.innerHTML}
                </body>
                </html>
            `,i=document.createElement("a");i.href=URL.createObjectURL(new Blob([l],{type:n.type??"text/html"})),i.download=a.title,i.click()}catch(r){console.error(r)}}static async createButton(t,n,a={position:"before",buttonText:"HTML + CSS ⭳",styles:[],title:document.title,template:null}){if(!t)throw Error("L'\xe9l\xe9ment r\xe9f\xe9rent ne peut pas \xeatre vide. V\xe9rifier que votre \xe9l\xe9ment existe ou est bien cr\xe9\xe9 avant son appel.");if(!n)throw Error("Le contenu ne peut pas \xeatre vide. V\xe9rifier que votre \xe9l\xe9ment existe ou est bien cr\xe9\xe9 avant son appel.");a.title=a?.title?.replace(/[^a-zA-Z0-9À-ÿ\ ]+/g,"-")??document.title;let l=document.createElement("button");l.innerHTML=a.buttonText??"HTML + CSS ⭳",l.title=a.title,l.type="button",delete a.buttonText;let i={before:"beforebegin",start:"afterbegin",end:"beforeend",after:"afterend"}[a.position??"before"]||"beforebegin";delete a.position,l.addEventListener("click",async()=>await e.generate(n,a.template,a)),t.insertAdjacentElement(i,l)}};