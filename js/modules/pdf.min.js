export default class e{static async generate(e,t={elementsToNotDisplay:null,format:"WEBP",title:document.title}){try{await import("../plugins/html2canvas.min.js"),await import("../plugins/jspdf.umd.min.js");let{jsPDF:n}=window.jspdf,a=new n;t.elementsToNotDisplay&&t.elementsToNotDisplay.forEach(e=>e.style.display="none");let o={};for(let l=0;l<e.style.length;l++){let i=e.style[l];o[i]=e.style[i]}e.style.backgroundColor="none",e.style.backgroundImage="none",e.style.boxShadow="none";let s=(await html2canvas(e)).toDataURL(e,`image/${t?.format?.toLowerCase()??"webp"}`);for(let r in a.addImage(s,t.format,0,0),a.save(`${t.title}.pdf`),o)e.style[r]=o[r];t.elementsToNotDisplay&&t.elementsToNotDisplay.forEach(e=>e.style.display="")}catch(p){console.error(p)}}static async createButton(t,n,a={position:"before",buttonText:"PDF ⭳",format:"WEBP",title:document.title}){if(!t)throw Error("L'\xe9l\xe9ment r\xe9f\xe9rent ne peut pas \xeatre vide. V\xe9rifier que votre \xe9l\xe9ment existe ou est bien cr\xe9\xe9 avant son appel.");if(!n)throw Error("Le contenu ne peut pas \xeatre vide. V\xe9rifier que votre \xe9l\xe9ment existe ou est bien cr\xe9\xe9 avant son appel.");a.title=a?.title?.replace(/[^a-zA-Z0-9À-ÿ\ ]+/g,"-")??document.title;let o=document.createElement("button");o.innerHTML=a.buttonText??"PDF ⭳",o.title=a.title,o.type="button",delete a.buttonText;let l={before:"beforebegin",start:"afterbegin",end:"beforeend",after:"afterend"}[a.position??"before"]||"beforebegin";delete a.position,o.addEventListener("click",async()=>await e.generate(n,a)),t.insertAdjacentElement(l,o)}};